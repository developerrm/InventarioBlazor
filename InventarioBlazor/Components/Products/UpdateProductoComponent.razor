@using Entidades
@using Business
@inject NavigationManager navigate
<EditForm Model="productoActualizar">
    <div class="form-group">
        <label>Codigo</label>
        <InputText @bind-Value="@productoActualizar.Codigo" class="form-control" />
    </div>
    <div class="form-group">
        <label>Descripcion</label>
        <InputTextArea @bind-Value="@productoActualizar.Descripcion" class="form-control" />
    </div>
    <div class="form-group">
        <label>Categorias Disponbles</label>
        <InputSelect @bind-Value="@productoActualizar.CategoriaID" class="form-control">
            @foreach (var categoria in categorias)
            {
                <option value="@categoria.CategoriaID">@categoria.Descripcion</option>
            }
        </InputSelect>
    </div>
    <input type="button" class="btn-primary" value="Actualizar producto" @onclick="ActualizarProducto" />


</EditForm>
@code {
    [Parameter]
    public string productoIDActualizar { get; set; }
    Producto productoActualizar = new Producto();
    List<Categoria> categorias = new List<Categoria>();
    protected override async Task OnInitializedAsync()
    {
        productoActualizar = BProducto.GetProductoByID(Convert.ToInt32(productoIDActualizar));
        categorias = BCategoria.CategoriaList();
    }
    private void ActualizarProducto()
    {
        BProducto.Update(productoActualizar);
        navigate.NavigateTo("product/Listado");
    }
}
